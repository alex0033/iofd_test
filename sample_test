exec_file="$(dirname $0)/sample.rb"
output_file="$(dirname $0)/output_file"

expect -c "
    set timeout 20
    spawn ruby $exec_file
    expect a:\  ; send \"2\n\"
    expect b:\  ; send \"3\n\"
    expect
" >$output_file

case1=$(
    cat $output_file | grep "a+b: 5"
)

if [ -z "$case1" ]
then
    echo "fail case1"
else
    echo "success case1"
fi
